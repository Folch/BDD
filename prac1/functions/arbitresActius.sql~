CREATE OR REPLACE FUNCTION arbitreBlanc() RETURNS TABLE(nom text, dni text) AS $$
	DECLARE
		arbitreBlanc persona%rowtype;
		--arbitreNegre table;
		--arbitreTaules table;

	BEGIN
		arbitreBlanc = (select p.nom,p.dni from jutge,persona p where persona = p.dni order by pblanques desc limit 1);  
		--arbitreNegre = (select p.nom,p.dni from jutge,persona p where persona = p.dni order by pnegres desc limit 1); 
		--arbitreTaules = (select p.nom,p.dni from jutge,persona p where persona = p.dni order by ptaules desc limit 1); 
		RETURN QUERY (arbitreBlanc);
			
	END;
$$LANGUAGE plpgsql;

/*
 update jutge set pblanques = 2,pnegres = 1 where persona = '20200288L';
 
 update jutge set ptaules = 1 where persona = '20300643G';
 
 update jutge set ptaules = 1 where persona = '20400453H';
 
 update jutge set ptaules = 0,pnegres = 1 where persona = '20300643G';

*/
